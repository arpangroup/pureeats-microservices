<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      th:replace="_base::layout(~{::section})">
<head>
    <title>Cities</title>
</head>
<body>
<section>
    <div class="row">
        <div class="container-fluid">
            <div class="table-responsive">
                <div class="table-wrapper">
                    <div class="table-title">
                        <div class="row">
                            <div class="col-sm-4"><h2>All <b>Cities</b></h2></div>
                            <div class="col-sm-4">
                                <<!--button type="button" class="btn btn-info add-new"><i class="fa fa-plus"></i>
                                    Add New City
                                    <a th:href="@{/cities/addNewCity}"></a>
                                </button>-->
                                <a class="btn btn-info add-new" th:href="@{/cities/addNewCity}">
                                    <i class="fa fa-plus"></i>
                                    Add New City
                                </a>
                            </div>
                            <div class="col-sm-4">
                                <div class="search-box">
                                    <i class="material-icons">&#xE8B6;</i>
                                    <input type="text" class="form-control" placeholder="Searchâ€¦">
                                </div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-striped table-hover table-bordered">
                        <thead>
                        <tr>
                            <th>CityName <i class="fa fa-sort"></i></th>
                            <th>Country <i class="fa fa-sort"></i></th>
                            <th>Location</th>
                            <th>Outlets</th>
                            <th>Cuisines</th>
                            <th>Collections</th>
                            <th>Establishments</th>
                            <th>Actions</th>

                        </tr>
                        </thead>
                        <tbody>
                        <th:block th:each="city : ${cities}">
                            <tr>
                                <td>[[${city.name}]]</td>
                                <td><a th:href="@{/countries/{countryIdVal}(countryIdVal=${city.countryId})}" th:text="${city.countryName}"/></td>
                                <td><a th:href="${'https://www.google.com/maps/search/?api=1&query='+city.lat+','+city.lng}" th:text="${'{' + city.lat +','+ city.lng + '}'}" target="_blank" /></td>
                                <td th:text="0">Outlets</td>
                                <td><a th:href="@{/cuisines(city_id=${city.id}, lat=${city.lat}, lng=${city.lng})}" th:text="${#lists.size(city.cuisines)}"/></td>
                                <td th:text="${#lists.size(city.collections)}">Collections</td>
                                <td th:text="${#lists.size(city.establishments)}">Establishments</td>
                                <td>
                                    <a href="#" class="view" title="View" data-toggle="tooltip"><i class="material-icons">&#xE417;</i></a>
                                    <a href="#" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
                                    <a href="#" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                                </td>
                            </tr>
                        </th:block>

                        <!--<tr>
                            <td>1</td>
                            <td>Thomas Hardy</td>
                            <td>89 Chiaroscuro Rd.</td>
                            <td>Portland</td>
                            <td>97219</td>
                            <td>USA</td>
                            <td>
                                <a href="#" class="view" title="View" data-toggle="tooltip"><i class="material-icons">&#xE417;</i></a>
                                <a href="#" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
                                <a href="#" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                            </td>
                        </tr>-->

                        </tbody>
                    </table>
                    <div class="clearfix">
                        <div class="hint-text">Showing <b>5</b> out of <b>25</b> entries</div>
                        <ul class="pagination">
                            <li class="page-item disabled"><a href="#"><i class="fa fa-angle-double-left"></i></a></li>
                            <li class="page-item"><a href="#" class="page-link">1</a></li>
                            <li class="page-item"><a href="#" class="page-link">2</a></li>
                            <li class="page-item active"><a href="#" class="page-link">3</a></li>
                            <li class="page-item"><a href="#" class="page-link">4</a></li>
                            <li class="page-item"><a href="#" class="page-link">5</a></li>
                            <li class="page-item"><a href="#" class="page-link"><i class="fa fa-angle-double-right"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>